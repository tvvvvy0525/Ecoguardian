# EcoGuardian 2.0 - 智能森林消防多智能体系统

EcoGuardian 2.0 是一个基于自主智能体协作的森林火灾监测与扑灭仿真系统。系统集成了无人机（UAV）侦察、地面机器人（UGV）灭火、在线机器学习决策以及遗传算法优化。

## 1. 系统核心架构

### 1.1 无人机 (UAV) - 侦察智能体
*   **自主探索**：采用蒙特卡洛采样算法，利用热力图（Urgency Map）优先巡逻最久未覆盖的区域。
*   **感知上报**：实时扫描 4x4 范围，将发现的火点同步至“共享感知池”。
*   **交互逻辑**：作为系统的“眼睛”，其发现是地面机器人获取任务的唯一来源，体现了分布式感知协同。

### 1.2 地面机器人 (UGV) - 执行智能体
*   **3x3 AOE 灭火**：具备区域扑灭能力，移动过程中自动清理路径及周围火点。
*   **自适应 A* 寻路**：
    *   *有水状态*：火区代价为 1，执行“穿梭灭火”策略。
    *   *无水状态*：火区代价为 50，执行“安全规避”策略。
*   **武装返航协议**：当资源低于预留阈值时强制返航，且在返航途中保持灭火能力直至水尽，最大化资源利用率。

### 1.3 救援机器人 (SupportBot) - 后勤智能体
*   **自动搜救**：实时监控全场状态，自动前往电量耗尽（STRANDED）的友军坐标。
*   **资源重置**：接触目标后瞬间补满其电量与水量，使其重新投入战斗。

## 2. 智能决策与优化

### 2.1 5D 特征预测器 (ML)
系统采用在线逻辑回归模型预测任务成功概率，特征维度包括：
1. **距离差**：我与竞争队友到达火点的距离差值。
2. **火团大小**：目标火点周围的密集程度。
3. **电量比例**：机器人当前能量储备。
4. **水量比例**：机器人当前扑灭资源。
5. **障碍密度**：目标周边墙壁阻碍情况。

**惩罚学习机制**：当机器人因“被抢单”或“火点烧毁”而导致任务失败时，会收到 Label 0 的负反馈训练，使其学会动态避让。

### 2.2 遗传算法调参 (GA)
*   **演化目标**：自动优化 `PREDICTION_PENALTY`（预测惩罚系数）。
*   **评价函数**：`灭火总数 - 搁浅总数 * 惩罚权重`。
*   **迭代周期**：每 1000 帧进行一次种群演化，确保系统适应不同的火蔓延速度。

## 3. 环境引擎规格
*   **高性能计算**：利用 NumPy 向量化重构了干燥度累加和火势蔓延逻辑，支持大规模网格运行。
*   **物理仿真**：包含随机风向影响、燃料消耗模型、树木自燃逻辑。

## 4. 操作指南
*   **[SPACE]**：手动点燃随机树木（压力测试）。
*   **[R]**：重置仿真环境与 ML 权重。
*   **侧边栏**：实时显示 5D 权重趋势、GA 进化代数、感知火点数及灭火统计。

## 5. 依赖项
*   Python 3.8+
*   Pygame
*   NumPy